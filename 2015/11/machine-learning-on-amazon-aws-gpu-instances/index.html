<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Chris Hager"><meta name=description content="Machine learning algorithms regularly utilize GPUs to parallelize computations, and Amazon AWS GPU Instances provide cheap and on-demand access to capable virtual servers with NVIDIA GPUs.
GPU Instances come in two flavors: G2.2xlarge and G2.8xlarge:
   Model GPUs vCPU Mem (GiB) SSD Storage (GB)     g2.2xlarge 1 8 15 1 x 60   g2.8xlarge 4 32 60 2 x 120    The GPU instances feature Intel Xeon E5-2670 (Sandy Bridge) Processors and NVIDIA GPUs with 1,536 CUDA cores and 4GB of video memory each."><meta name=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.metachris.com/images/profile2-round.png"><meta name=twitter:title content="Machine Learning on Amazon AWS GPU Instances"><meta name=twitter:description content="Machine learning algorithms regularly utilize GPUs to parallelize computations, and Amazon AWS GPU Instances provide cheap and on-demand access to capable virtual servers with NVIDIA GPUs.
GPU Instances come in two flavors: G2.2xlarge and G2.8xlarge:
   Model GPUs vCPU Mem (GiB) SSD Storage (GB)     g2.2xlarge 1 8 15 1 x 60   g2.8xlarge 4 32 60 2 x 120    The GPU instances feature Intel Xeon E5-2670 (Sandy Bridge) Processors and NVIDIA GPUs with 1,536 CUDA cores and 4GB of video memory each."><meta property="og:title" content="Machine Learning on Amazon AWS GPU Instances"><meta property="og:description" content="Machine learning algorithms regularly utilize GPUs to parallelize computations, and Amazon AWS GPU Instances provide cheap and on-demand access to capable virtual servers with NVIDIA GPUs.
GPU Instances come in two flavors: G2.2xlarge and G2.8xlarge:
   Model GPUs vCPU Mem (GiB) SSD Storage (GB)     g2.2xlarge 1 8 15 1 x 60   g2.8xlarge 4 32 60 2 x 120    The GPU instances feature Intel Xeon E5-2670 (Sandy Bridge) Processors and NVIDIA GPUs with 1,536 CUDA cores and 4GB of video memory each."><meta property="og:type" content="article"><meta property="og:url" content="https://www.metachris.com/2015/11/machine-learning-on-amazon-aws-gpu-instances/"><meta property="og:image" content="https://www.metachris.com/images/profile2-round.png"><meta property="article:published_time" content="2015-11-22T00:00:00+00:00"><meta property="article:modified_time" content="2015-11-22T00:00:00+00:00"><base href=https://www.metachris.com/2015/11/machine-learning-on-amazon-aws-gpu-instances/><title>Machine Learning on Amazon AWS GPU Instances · Chris Hager</title><link rel=canonical href=https://www.metachris.com/2015/11/machine-learning-on-amazon-aws-gpu-instances/><link rel=stylesheet href=https://www.metachris.com/css/normalize.min.css><link rel=stylesheet href=https://www.metachris.com/css/coder.min.60905f5c04c873133102647358a77c6955e9ce0d4cb3c77801438e9a8ea83d8e.css integrity="sha256-YJBfXATIcxMxAmRzWKd8aVXpzg1Ms8d4AUOOmo6oPY4=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://www.metachris.com/css/coder-dark.min.555a1ef52d640ac2e953517fb98e13f034f07996d15b0efd41f0c2cb15932293.css integrity="sha256-VVoe9S1kCsLpU1F/uY4T8DTweZbRWw79QfDCyxWTIpM=" crossorigin=anonymous media=screen><script src=https://www.metachris.com/js/custom.js></script><link rel=stylesheet href=https://www.metachris.com/scss/custom.min.d85d0350942d1baa36f33b43ebc23c161a5906876dc80e9a1e508149f414e2bd.css integrity="sha256-2F0DUJQtG6o28ztD68I8FhpZBodtyA6aHlCBSfQU4r0=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=https://www.metachris.com/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://www.metachris.com/images/favicon-16x16.png sizes=16x16><link rel=alternate type=application/rss+xml href=https://www.metachris.comindex.xml title="Site Title"></head><body class=colorscheme-auto><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://www.metachris.com/>Chris Hager</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fas fa-bars"></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=https://www.metachris.com/about/>About</a></li><li class=navigation-item><a class=navigation-link href=https://www.metachris.com/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=https://www.metachris.com/projects/>Projects</a></li><li class=navigation-item><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw"></i></a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title>Machine Learning on Amazon AWS GPU Instances</h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fas fa-calendar"></i><time datetime=2015-11-22T00:00:00Z>November 22, 2015</time></span>
<span class=reading-time><i class="fas fa-clock"></i>2 minutes read</span></div><div class=tags><i class="fas fa-tag"></i><a href=https://www.metachris.com/tags/machine-learning/>Machine Learning</a></div></div></header><div><p>Machine learning algorithms regularly utilize GPUs to parallelize computations, and <a href=http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using_cluster_computing.html>Amazon AWS GPU Instances</a> provide cheap and on-demand access to capable virtual servers with NVIDIA GPUs.</p><p><a href=http://aws.amazon.com/ec2/instance-types/#gpu>GPU Instances</a> come in two flavors: <i>G2.2xlarge</i> and <i>G2.8xlarge</i>:</p><table><thead><tr><th>Model</th><th>GPUs</th><th>vCPU</th><th>Mem (GiB)</th><th>SSD Storage (GB)</th></tr></thead><tbody><tr><th>g2.2xlarge</th><td>1</td><td>8</td><td>15</td><td>1 x 60</td></tr><tr><th>g2.8xlarge</th><td>4</td><td>32</td><td>60</td><td>2 x 120</td></tr></tbody></table><p>The GPU instances feature <a href=http://www.bit-tech.net/hardware/cpus/2012/03/06/intel-xeon-e5-2670-review/1>Intel Xeon E5-2670</a> (Sandy Bridge) Processors and NVIDIA GPUs with 1,536 CUDA cores and 4GB of video memory each.</p><hr><h2>Tips & Tricks</h2><p>Several machine learning frameworks such as <a href=https://github.com/torch/torch7>Torch</a> and <a href=http://deeplearning.net/software/theano/>Theano</a> as well as Amazon itself provide AMIs (Amazon Machine Images) with pre-installed dependencies and NVIDIA kernel drivers:</p><ul><li><a href=https://github.com/torch/torch7/wiki/Cheatsheet#ec2-public-ami>Torch AMI</a></li><li><a href=https://github.com/andreasjansson/simple-aws-gpu-setup>Theano AMI Howto</a></li><li><a href="http://aws.amazon.com/marketplace/search/results/?searchTerms=NVIDIAGRID">Amazon AMIs</a></li></ul><p>Use <a href=https://aws.amazon.com/ec2/spot/>spot instances</a> - they&rsquo;re much cheaper for GPU instances!</p><ul><li>Pick a price that has been steady for a while</li><li>$0.10/hr often gets you a g2.xlarge instance, even for a few days continuously</li><li>You can view price graphs for the instance type in the <a href=http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-instances-history.html>AWS console</a>.</li></ul><p>Spot instances get a 2 minute notice before being shut down. You can use <a href=http://aws.amazon.com/sdk-for-python/>boto</a> (AWS SDK for Python) to check the timestamp for when that will occur.</p><p>Make sure to snapshot your models, otherwise you might lose training time and have to start over. You can save the snapshots to S3 (depending on the size of the model).</p><p>Create an AMI with all dependencies pre-installed so you don&rsquo;t waste time installing those when the instance spins up.</p><p>For very large datasets use their <a href=https://aws.amazon.com/ebs/pricing/>Elastic Block Storage (EBS)</a>. It&rsquo;s basically an on-demand SSD you can attach to instances when they spin up.</p><hr><h2>References</h2><ul><li><p><a href=http://aws.amazon.com>Amazon AWS</a></p><ul><li><a href=http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using_cluster_computing.html>AWS GPU Instances Docs</a></li><li><a href=http://aws.amazon.com/ec2/instance-types/#gpu>AWS Instance Types</a></li></ul></li><li><p><a href=https://github.com/torch/torch7>Torch</a></p><ul><li><a href=https://github.com/torch/torch7/wiki/Cheatsheet#ec2-public-ami>Torch Public AMI</a></li><li><a href=https://github.com/torch/torch7/wiki/Cheatsheet>Torch Cheat Cheet</a></li><li><a href=https://github.com/brotchie/torch-ubuntu-gpu-ec2-install>Install Guide</a></li><li><a href=http://blog.titocosta.com/post/110345699197/public-ec2-ami-with-torch-and-caffe-deep-learning>Another Install Guide</a></li></ul></li><li><p><a href=http://deeplearning.net/software/theano>Theano</a></p><ul><li><a href=https://github.com/andreasjansson/simple-aws-gpu-setup>Setup Guide</a></li><li><a href=http://markus.com/install-theano-on-aws/>Another Setup Guide</a></li><li><a href=http://deeplearning.net/software/theano/install_ubuntu.html#install-ubuntu>Install on Ubuntu Docs</a></li></ul></li><li><p><a href=http://www.tensorflow.org/>TensorFlow</a></p><ul><li><a href=https://gist.github.com/Hello1024/bfbcb4616aadee62c68e>Guide for AWS</a></li></ul></li></ul><hr class=spaced><p>If you have suggestions, feedback or ideas, reach out to <a href=https://twitter.com/metachris target=_blank>@metachris</a>!</p></div><hr><form class=tinyletter-subscribe action=https://tinyletter.com/metachris method=post target=popupwindow onsubmit="window.open('https://tinyletter.com/metachris','popupwindow','scrollbars=yes,width=800,height=600');return true"><div><label for=tlemail><small>⚡️</small> &nbsp;Subscribe to new posts:</label>&nbsp;
<input type=email style=width:140px name=email id=tlemail placeholder=email>&nbsp;
<input type=hidden value=1 name=embed><input type=submit value=Subscribe></div><div style=padding-top:8px><small>(two mails per month max)</small></div></form><hr><footer><script src=https://utteranc.es/client.js repo=metachris/metachris.com-comments issue-term=og:title theme=preferred-color-scheme crossorigin=anonymous async></script></footer></article></section></div><footer class=footer><section class=container></section></footer></main><script src=https://www.metachris.com/js/dark-mode.min.0213e1773e6d1c5a644f847c67a6f8abac49a3776e2976f6008038af8c5b76a1.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-168016633-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-168016633-1');</script><link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel=stylesheet><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.11.2/css/all.css integrity=sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN crossorigin=anonymous></body></html>