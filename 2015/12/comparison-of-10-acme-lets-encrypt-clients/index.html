<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Chris Hager"><meta name=description content="Let's Encrypt is a new certificate authority backed by Mozilla, Akamai, EFF, Facebook and others, which provides free SSL/TLS certificates. This is an overview and comparison of 10 popular clients."><meta name=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.metachris.com/images/profile2-round.png"><meta name=twitter:title content="Comparison of 10 ACME / Let's Encrypt Clients"><meta name=twitter:description content="Let's Encrypt is a new certificate authority backed by Mozilla, Akamai, EFF, Facebook and others, which provides free SSL/TLS certificates. This is an overview and comparison of 10 popular clients."><meta property="og:title" content="Comparison of 10 ACME / Let's Encrypt Clients"><meta property="og:description" content="Let's Encrypt is a new certificate authority backed by Mozilla, Akamai, EFF, Facebook and others, which provides free SSL/TLS certificates. This is an overview and comparison of 10 popular clients."><meta property="og:type" content="article"><meta property="og:url" content="https://www.metachris.com/2015/12/comparison-of-10-acme-lets-encrypt-clients/"><meta property="og:image" content="https://www.metachris.com/images/profile2-round.png"><meta property="article:published_time" content="2015-12-14T00:00:00+00:00"><meta property="article:modified_time" content="2015-12-14T00:00:00+00:00"><base href=https://www.metachris.com/2015/12/comparison-of-10-acme-lets-encrypt-clients/><title>Comparison of 10 ACME / Let's Encrypt Clients Â· Chris Hager</title><link rel=canonical href=https://www.metachris.com/2015/12/comparison-of-10-acme-lets-encrypt-clients/><link rel=stylesheet href=https://www.metachris.com/css/normalize.min.css><link rel=stylesheet href=https://www.metachris.com/css/coder.min.60905f5c04c873133102647358a77c6955e9ce0d4cb3c77801438e9a8ea83d8e.css integrity="sha256-YJBfXATIcxMxAmRzWKd8aVXpzg1Ms8d4AUOOmo6oPY4=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://www.metachris.com/css/coder-dark.min.555a1ef52d640ac2e953517fb98e13f034f07996d15b0efd41f0c2cb15932293.css integrity="sha256-VVoe9S1kCsLpU1F/uY4T8DTweZbRWw79QfDCyxWTIpM=" crossorigin=anonymous media=screen><script src=https://www.metachris.com/js/custom.js></script><link rel=stylesheet href=https://www.metachris.com/scss/custom.min.d85d0350942d1baa36f33b43ebc23c161a5906876dc80e9a1e508149f414e2bd.css integrity="sha256-2F0DUJQtG6o28ztD68I8FhpZBodtyA6aHlCBSfQU4r0=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=https://www.metachris.com/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://www.metachris.com/images/favicon-16x16.png sizes=16x16><link rel=alternate type=application/rss+xml href=https://www.metachris.comindex.xml title="Site Title"></head><body class=colorscheme-auto><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://www.metachris.com/>Chris Hager</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fas fa-bars"></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=https://www.metachris.com/about/>About</a></li><li class=navigation-item><a class=navigation-link href=https://www.metachris.com/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=https://www.metachris.com/projects/>Projects</a></li><li class=navigation-item><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw"></i></a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title>Comparison of 10 ACME / Let's Encrypt Clients</h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fas fa-calendar"></i><time datetime=2015-12-14T00:00:00Z>December 14, 2015</time></span>
<span class=reading-time><i class="fas fa-clock"></i>21 minutes read</span></div><div class=tags><i class="fas fa-tag"></i><a href=https://www.metachris.com/tags/server/>Server</a></div></div></header><div><p><img src=https://www.metachris.com/images/posts/letsencrypt/letsencrypt-logo-horizontal.svg alt="Let&rsquo;s Encrypt Logo"></p><p><a href=https://letsencrypt.org>Let&rsquo;s Encrypt</a> is a new certificate authority backed
by Mozilla, Akamai, EFF, Facebook and others, which provides <strong>free, automated
SSL/TLS certificates</strong>. The <a href=https://letsencrypt.org/2015/12/03/entering-public-beta.html>public beta</a> started on December 3, 2015 and a whole lot of certificates <a href=https://letsencrypt.org/stats/>have been issued</a> already:</p><p><img src=https://www.metachris.com/images/posts/letsencrypt/le-activity.png alt="Let&rsquo;s Encrypt Daily Activity"></p><p>Several clients to automate issuing, renewing and revoking certificates have been released both by the community and the Let&rsquo;s Encrypt team. This post is an overview and comparison of 10 popular Let&rsquo;s Encrypt clients:</p><ul><li><a href=#client-lets-encrypt>letsencrypt-auto</a>, the official Let&rsquo;s Encrypt client</li><li><a href=#client-acme-tiny>acme-tiny</a>, a tiny semi-automatic Python implementation</li><li><a href=#client-gethttpsforfree>gethttpsforfree.com</a>, a static website to assist the manual process</li><li><a href=#client-simp_le>simp_le</a>, another Python implementation</li><li><a href=#client-le_nosudo>letsencrypt-nosudo</a>, the predecessor of acme-tiny and gethttpsforfree</li><li><a href=#client-acmetool>acmetool</a>, an ACME client in Go</li><li><a href=#client-lego>lego</a>, an ACME client and library written in Go</li><li><a href=#client-letsencrypt.sh>letsencrypt.sh</a>, a Bash ACME client implemenation</li><li><a href=#client-acme-client>acme</a>, ACME implementation in PHP</li><li><a href=#client-lescript>lescript</a>, a PHP library</li></ul><h1 id=background>Background</h1><h2 id=acme>ACME</h2><p>The <a href=https://letsencrypt.github.io/acme-spec/>Automated Certificate Management Environment (ACME)</a>
protocol defines a way of automatically obtaining trusted certificates
without human intervention. First, the control of a domain has to be proven,
then the agent can request, renew and revoke certificates:</p><p><img src=https://www.metachris.com/images/posts/letsencrypt/howitworks_challenge.png alt="ACME Challenge"></p><p>Certificates issued by Let&rsquo;s Encrypt are valid for <a href=https://letsencrypt.org/2015/11/09/why-90-days.html>90 days</a>, and are expected to be renewed automatically. More background information can be found on the <a href=https://letsencrypt.org/howitworks/technology/>Let&rsquo;s Encrypt - How It Works</a> page.</p><p>At the time of writing, these <a href=https://community.letsencrypt.org/t/beta-program-announcements/1631/6>rate limits</a> has been in place:</p><ul><li>10 Registrations per IP per 3 hours</li><li>5 Certificates per Domain per 7 days (incl. subdomains)</li></ul><h2 id=ssl-certificates-amp-signing>SSL Certificates & Signing</h2><p>Obtaining a valid <a href=https://en.wikipedia.org/wiki/Public_key_certificate>SSL certificate</a> generally includes the following steps:</p><ol><li>You create a private and public key pair on the server.</li><li>You create a <a href=https://en.wikipedia.org/wiki/Certificate_signing_request>Certificate Signing Request (CSR)</a> which includes the domain name, organization name, the public key, and other information. The CSR is signed with your private key.</li><li>You send the CSR to the <a href=https://en.wikipedia.org/wiki/Certificate_authority>certificate authority</a> (in this case Let&rsquo;s Encrypt).</li><li>The certificate authority signs the request, thus producing a public certificate.</li><li>You use the public certificate in your webserver.</li></ol><p><a name=ssl_config></a>For more information on configuring a webserver with certificates, check out these links:</p><ul><li><a href=https://cipherli.st/>cipherli.st</a> - Example configuration for Apache, nginx and Lighttpd</li><li><a href=https://mozilla.github.io/server-side-tls/ssl-config-generator>Mozilla SSL Config Generator</a></li><li><a href=https://www.ssllabs.com/ssltest/>Qualsys SSL Labs SSL Server Test</a></li><li><a href=https://ssldecoder.org/>SSL Decoder</a></li></ul><hr><h1 id=client-analysis>Client Analysis</h1><p>These tests are going to obtain a certificate for a domain such as <code>www.example.com</code>
and setting up automatic certificate renewal.</p><p>Domain ownership verification requires the ACME server being able to access a specific file
on the domain. To accomplish this, we assume a webserver is running and serves
files from <code>/var/www/htdocs/</code> (the webroot) and it&rsquo;s subdirectories. For instance, a file at <code>/var/www/htdocs/.well-known/acme-challenge/8303</code> should be accessible via <code>www.example.com/.well-known/acme-challenge/8303</code>.</p><hr><p><a name=client-lets-encrypt></a></p><h2 id=official-lets-encrypt-client>Official Let&rsquo;s Encrypt Client</h2><ul><li><a href=https://github.com/letsencrypt/letsencrypt>github.com/letsencrypt/letsencrypt</a><ul><li><img src=https://www.metachris.com/images/posts/letsencrypt/github-letsencrypt-letsencrypt-stars.svg alt="Github Stars"> <img src=https://www.metachris.com/images/posts/letsencrypt/github-letsencrypt-letsencrypt-forks.svg alt="Github Forks"></li><li>4,355 commits, 131 contributors</li></ul></li><li>Mode: Automatic / Interactive / Manual</li><li>License: Apache 2.0</li><li>Language: Python</li><li>Lines of code: 8,612 (core), ~16,000 (total)</li><li>Dependencies: many</li><li><a href=https://letsencrypt.readthedocs.org/en/latest/>Documentation</a></li></ul><p>The <a href=http://letsencrypt.readthedocs.org/en/latest/using.html>official Let&rsquo;s Encrypt client</a>, <code>letsencrypt-auto</code>, is
a heavyweight, fully automated Python program with various modes of operation and installers (for instance to automagically update Apache and nginx configurations).</p><p>The standard client automatically installs various system dependencies via the standard package manager (see the <a href=https://github.com/letsencrypt/letsencrypt/blob/master/letsencrypt-auto>source code</a> and <a href=https://github.com/letsencrypt/letsencrypt/tree/master/bootstrap>/bootstrap/</a>), and sets up a virtualenv with
a number of Python dependencies. The client is also available as a <a href=http://letsencrypt.readthedocs.org/en/latest/using.html#running-with-docker>Docker image</a>,
which avoids the necessity to install packages system-wide.</p><p>In case of an error (eg. the ACME server is not reachable), the official client gracefully terminates with an info message.</p><p>The official Let&rsquo;s Encrypt client also supports config files, which may be
easier to automate with a cronjob (see <a href=https://gist.github.com/xrstf/581981008b6be0d2224f>this post</a>
for more infos).</p><ul style=list-style:none><li><i class="fa fa-plus" style=color:green></i>&nbsp; Official client, active community</li><li><i class="fa fa-plus" style=color:green></i>&nbsp; Well documented, and well tested</li><li><i class="fa fa-plus" style=color:green></i>&nbsp; Can do a lot of things, including server configs (experimental!)</li><li><i class="fa fa-plus" style=color:green></i>&nbsp; Accessible for non-technical users</li><li><i class="fa fa-minus" style=color:red></i>&nbsp; Complex program, many moving parts, hard to review</li><li><i class="fa fa-minus" style=color:red></i>&nbsp; Runs as root and installs dependencies without asking</li></ul><p><strong>Standard Installation</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git clone https://github.com/letsencrypt/letsencrypt
$ cd letsencrypt
$ ./letsencrypt-auto --help</code></pre></div><p><a href=javascript:void(0) onclick="$('#letsencrypt-output1').toggle();" class=nobold>â¾ show output</a></p><div class=highlight id=letsencrypt-output1 style=display:none><pre><code>$ ./letsencrypt-auto --help
Updating letsencrypt and virtual environment dependencies.......
Running with virtualenv: /root/.local/share/letsencrypt/bin/letsencrypt --help
<p>letsencrypt [SUBCOMMAND] [options] [-d domain] [-d domain] &hellip;</p>
<p>The Let&rsquo;s Encrypt agent can obtain and install HTTPS/TLS/SSL certificates.  By
default, it will attempt to use a webserver both for obtaining and installing
the cert. Major SUBCOMMANDS are:</p>
<p>(default) run        Obtain &amp; install a cert in your current webserver
certonly             Obtain cert, but do not install it (aka &ldquo;auth&rdquo;)
install              Install a previously obtained cert in a server
revoke               Revoke a previously obtained certificate
rollback             Rollback server configuration changes made during install
config_changes       Show changes made to server config during installation
plugins              Display information about installed plugins</p>
<p>Choice of server plugins for obtaining and installing cert:</p>
<p>&ndash;apache          Use the Apache plugin for authentication &amp; installation
&ndash;standalone      Run a standalone webserver for authentication
(nginx support is experimental, buggy, and not installed by default)
&ndash;webroot         Place files in a server&rsquo;s webroot folder for authentication</p>
<p>OR use different plugins to obtain (authenticate) the cert and then install it:</p>
<p>&ndash;authenticator standalone &ndash;installer apache</p>
<p>More detailed help:</p>
<p>-h, &ndash;help [topic]    print this message, or detailed help on a topic;
the available topics are:</p>
<p>all, automation, paths, security, testing, or any of the subcommands or
plugins (certonly, install, nginx, apache, standalone, webroot, etc)
</code></pre></div></p><p><strong>Obtaining a certificate</strong></p><p>To obtain a certificate without stopping a running webserver, we are going to use the <strong>webroot method</strong>, which
only requires write access for the webroot to save the authentication file.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo ./letsencrypt-auto certonly <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    --webroot --webroot-path /var/www/htdocs/ <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    --email admin@example.com <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -d www.example.com</code></pre></div><p>This command creates the private and public keys, generate a certificate signing request, get the challenge from the ACME server, saves it to the webroot, and downloads the signed certificate in <code>/etc/letsencrypt/live/example.com/</code>. The process
is fully automated and results in the certificate and private key, ready to be <a href=#ssl_config>used by your webserver</a>.</p><p><a href=javascript:void(0) onclick="$('#letsencrypt-result1').toggle();" class=nobold>â¾ show list of generated files</a></p><div class=highlight id=letsencrypt-result1 style=display:none><pre><code>$ tree /etc/letsencrypt/
.
âââ accounts
âÂ Â  âââ acme-v01.api.letsencrypt.org
âÂ Â      âââ directory
âÂ Â          âââ 69e7ae92b1a61252a6989403c95a10c8
âÂ Â              âââ meta.json
âÂ Â              âââ private_key.json
âÂ Â              âââ regr.json
âââ archive
âÂ Â  âââ www.example.com
âÂ Â      âââ cert1.pem
âÂ Â      âââ cert2.pem
âÂ Â      âââ cert3.pem
âÂ Â      âââ chain1.pem
âÂ Â      âââ chain2.pem
âÂ Â      âââ chain3.pem
âÂ Â      âââ fullchain1.pem
âÂ Â      âââ fullchain2.pem
âÂ Â      âââ fullchain3.pem
âÂ Â      âââ privkey1.pem
âÂ Â      âââ privkey2.pem
âÂ Â      âââ privkey3.pem
âââ csr
âÂ Â  âââ 0000_csr-letsencrypt.pem
âÂ Â  âââ 0001_csr-letsencrypt.pem
âÂ Â  âââ 0002_csr-letsencrypt.pem
âÂ Â  âââ 0003_csr-letsencrypt.pem
âââ keys
âÂ Â  âââ 0000_key-letsencrypt.pem
âÂ Â  âââ 0001_key-letsencrypt.pem
âÂ Â  âââ 0002_key-letsencrypt.pem
âÂ Â  âââ 0003_key-letsencrypt.pem
âââ live
âÂ Â  âââ www.example.com
âÂ Â      âââ cert.pem -> ../../archive/www.example.com/cert3.pem
âÂ Â      âââ chain.pem -> ../../archive/www.example.com/chain3.pem
âÂ Â      âââ fullchain.pem -> ../../archive/www.example.com/fullchain3.pem
âÂ Â      âââ privkey.pem -> ../../archive/www.example.com/privkey3.pem
âââ renewal
    âââ www.example.com.conf
</code></pre></div><p>Alternatively the offial Let&rsquo;s Encrypt client includes a <a href=http://letsencrypt.readthedocs.org/en/latest/using.html#manual>manual plugin</a>, which
can generate a certificate from another computer than the webserver
(akin to <a href=#client-gethttpsforfree>gethttpsforfree.com</a> or <a href=#client-le_nosudo>letsencrypt-nosudo</a>).
You can run this plugin with the command <code>./letsencrypt-auto certonly --manual</code>.</p><p><strong>Renewal</strong></p><p>To renew certificates automatically, simply add the <code>--renew</code> parameter to the above command:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo ./letsencrypt-auto certonly <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    --renew <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    --webroot --webroot-path /var/www/htdocs/ <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    --email admin@example.com <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -d www.example.com</code></pre></div><hr><p><a name=client-acme-tiny></a></p><h2 id=acme-tiny>acme-tiny</h2><ul><li><a href=https://github.com/diafygi/acme-tiny>github.com/diafygi/acme-tiny</a><ul><li><img src=https://www.metachris.com/images/posts/letsencrypt/github-diafygi-acme-tiny-stars.svg alt="Github Stars"> <img src=https://www.metachris.com/images/posts/letsencrypt/github-diafygi-acme-tiny-forks.svg alt="Github Forks"></li><li>55 commits, 11 contributors</li></ul></li><li>Mode: Automatic / Semi-Automatic</li><li>License: MIT</li><li>Language: Python</li><li>Lines of code: ~200</li><li>Dependencies: None</li><li><a href="https://news.ycombinator.com/item?id=10676685">Show HN</a></li></ul><p>Acme-tiny is a tiny Python script which assists with issuing and renewing certificates. You generate
the private key and create a certificate signing request (CSR) manually, and <code>acme-tiny</code> handles the rest (submitting the CSR
to the ACME server, receiving the authentication files, putting it in the acme-challenge folder and receiving the final certificate). The output of this script is the signed certificate.</p><ul style=list-style:none><li><i class="fa fa-plus" style=color:green></i>&nbsp; Documentation (in the README)</li><li><i class="fa fa-plus" style=color:green></i>&nbsp; Super simple, no dependencies</li><li><i class="fa fa-plus" style=color:green></i>&nbsp; Easy to embed in custom Python application</li></ul><p><strong>Installation</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Get a copy of acme-tiny</span>
$ cd /opt
$ git clone https://github.com/diafygi/acme-tiny.git
$ cd acme-tiny
$ python acme_tiny.py --help</code></pre></div><p><a href=javascript:void(0) onclick="$('#acme-tiny-output1').toggle();" class=nobold>â¾ show output</a></p><div class=highlight id=acme-tiny-output1 style=display:none><pre><code>$ python acme_tiny.py --help
usage: acme_tiny.py [-h] --account-key ACCOUNT_KEY --csr CSR --acme-dir
                    ACME_DIR [--quiet] [--ca CA]
<p>This script automates the process of getting a signed TLS certificate from
Let&rsquo;s Encrypt using the ACME protocol. It will need to be run on your server
and have access to your private account key, so PLEASE READ THROUGH IT! It&rsquo;s
only ~200 lines, so it won&rsquo;t take long.</p>
<h1 id=python-acme_tinypy---account-key-accountkey---csr-domaincsr---acme-dir-usrsharenginxhtmlwell-knownacme-challenge--signedcrt>===Example Usage===
python acme_tiny.py &ndash;account-key ./account.key &ndash;csr ./domain.csr &ndash;acme-dir /usr/share/nginx/html/.well-known/acme-challenge/ &gt; signed.crt</h1>
<h1 id=0-0-1---python-pathtoacme_tinypy---account-key-pathtoaccountkey---csr-pathtodomaincsr---acme-dir-usrsharenginxhtmlwell-knownacme-challenge--pathtosignedcrt-2-varlogacme_tinylog>===Example Crontab Renewal (once per month)===
0 0 1 * * python /path/to/acme_tiny.py &ndash;account-key /path/to/account.key &ndash;csr /path/to/domain.csr &ndash;acme-dir /usr/share/nginx/html/.well-known/acme-challenge/ &gt; /path/to/signed.crt 2&raquo; /var/log/acme_tiny.log</h1>
<p>optional arguments:
-h, &ndash;help            show this help message and exit
&ndash;account-key ACCOUNT_KEY
path to your Let&rsquo;s Encrypt account private key
&ndash;csr CSR             path to your certificate signing request
&ndash;acme-dir ACME_DIR   path to the .well-known/acme-challenge/ directory
&ndash;quiet               suppress output except for errors
&ndash;ca CA               certificate authority, default is Let&rsquo;s Encrypt
</code></pre></div></p><p><strong>Obtaining a certificate</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Create a directory for the keys and cert</span>
mkdir -p /etc/letsencrypt/www.example.com
cd /etc/letsencrypt/www.example.com

<span style=color:#75715e># Generate a private key</span>
openssl genrsa <span style=color:#ae81ff>4096</span> &gt; account.key

<span style=color:#75715e># Generate a domain private key (if you haven&#39;t already)</span>
openssl genrsa <span style=color:#ae81ff>4096</span> &gt; domain.key

<span style=color:#75715e># Create a CSR for www.example.com</span>
openssl req -new -sha256 -key domain.key -subj <span style=color:#e6db74>&#34;/CN=www.example.com&#34;</span> &gt; domain.csr

<span style=color:#75715e># Create the challenge folder in the webroot</span>
mkdir -p /var/www/htdocs/.well-known/acme-challenge/

<span style=color:#75715e># Get a signed certificate with acme-tiny</span>
python /opt/acme-tiny/acme_tiny.py --account-key ./account.key --csr ./domain.csr --acme-dir /var/www/htdocs/.well-known/acme-challenge/ &gt; ./signed.crt

<span style=color:#75715e># Append the Let&#39;s Encrypt intermediate cert to your cert</span>
wget -O - https://letsencrypt.org/certs/lets-encrypt-x1-cross-signed.pem &gt; intermediate.pem
cat signed.crt intermediate.pem &gt; chained.pem</code></pre></div><p><a href=javascript:void(0) onclick="$('#acme-tiny-output2').toggle();" class=nobold>â¾ show output</a></p><div class=highlight id=acme-tiny-output2 style=display:none><pre><code># openssl genrsa 4096 > account.key
Generating RSA private key, 4096 bit long modulus
...................................................................................................................++
.........................................................................................................++
e is 65537 (0x10001)
# openssl genrsa 4096 > domain.key
Generating RSA private key, 4096 bit long modulus
........................................++
.........................................................................................................................................................................................................................................................................................................................................................................................++
e is 65537 (0x10001)
# openssl req -new -sha256 -key domain.key -subj "/CN=www.example.com" > domain.csr
# mkdir -p /var/www/htdocs/.well-known/acme-challenge/
# python /opt/acme-tiny/acme_tiny.py --account-key ./account.key --csr ./domain.csr --acme-dir /var/www/htdocs/.well-known/acme-challenge/ > ./signed.crt
Parsing account key...
Parsing CSR...
Registering account...
Already registered!
Verifying www.example.com...
www.example.com verified!
Signing certificate...
Certificate signed!
</code></pre></div><p>At this point <code>chained.pem</code> contains the signed certificate chain and, along with <code>domain.key</code>, can be used to run a http server
(<a href=https://github.com/diafygi/acme-tiny#step-5-install-the-certificate>more infos</a>).</p><p>Renewal simply requires running this script again with the same parameters.</p><hr><p><a name=client-gethttpsforfree></a></p><h2 id=gethttpsforfreecom>gethttpsforfree.com</h2><ul><li><a href=https://github.com/diafygi/gethttpsforfree>github.com/diafygi/gethttpsforfree</a><ul><li><img src=https://www.metachris.com/images/posts/letsencrypt/github-diafygi-gethttpsforfree-stars.svg alt="Github Stars"> <img src=https://www.metachris.com/images/posts/letsencrypt/github-diafygi-gethttpsforfree-forks.svg alt="Github Forks"></li><li>70 commits, 10 contributors</li></ul></li><li>Mode: Semi-Manual</li><li>License: MIT</li><li>Language: HTML & JavaScript</li><li>Lines of code: 1228 JS, 443 HTML</li></ul><p><a href=https://gethttpsforfree.com/>gethttpsforfree.com</a> is a website which helps users to manually generate all the necessary information to create a certificate signing request (CSR), guiding a user through the whole ACME process:</p><ol><li>Manually create a public and private key.</li><li>Manually create a certificate signing request (CSR).</li><li>Manually sign a number of requests with the private key.</li><li>Manually verify ownership by serving the signed requests (either through an existing webserver or a simple Python webserver).</li><li>The website tells the ACME server to check for the verifications, and in case of success provides you with the signed certificate.</li></ol><p>The website provides OpenSSL commands at each step, and waits for the output of the commands to be pasted back into the website to verify the success. The website never asks for any kind of private key. It can be saved and used locally without any server side logic.</p><ul style=list-style:none><li><i class="fa fa-plus" style=color:green></i>&nbsp; Works as advertised</li><li><i class="fa fa-plus" style=color:green></i>&nbsp; Static site allows to save and use later</li></ul><hr><p><a name=client-simp_le></a></p><h2 id=simp_le>simp_le</h2><ul><li><a href=https://github.com/kuba/simp_le>github.com/kuba/simp_le</a><ul><li><img src=https://www.metachris.com/images/posts/letsencrypt/github-kuba-simp_le-stars.svg alt="Github Stars"> <img src=https://www.metachris.com/images/posts/letsencrypt/github-kuba-simp_le-forks.svg alt="Github Forks"></li><li>112 commits, 9 contributors</li></ul></li><li>Mode: Fully or Semi-Automatic</li><li>License: GPLv3</li><li>Language: Python</li><li>Lines of code: 775 Python, 126 Shell Script, 41 YAML</li><li>Dependencies: Some</li></ul><p><code>simp_le</code> is an ACME client written in Python. It works similar to <code>acme-tiny</code>, but can
also generate the private key and CSR automatically. Requires a small number of dependencies to be installed.</p><p><strong>Installation</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cd /opt
$ git clone https://github.com/kuba/simp_le
$ cd simp_le

<span style=color:#75715e># Setup dependencies and run</span>
$ ./bootstrap.sh
$ ./venv.sh
$ ./venv/bin/simp_le --help</code></pre></div><p><a href=javascript:void(0) onclick="$('#simp_le-output1').toggle();" class=nobold>â¾ show output</a></p><div class=highlight id=simp_le-output1 style=display:none><pre><code>$ ./venv/bin/simp_le --help
Simple Let's Encrypt client.
<p>-v, &ndash;verbose         Increase verbosity of the logging. (default: False)</p>
<p>-h, &ndash;help            Show this help message and exit.
&ndash;version             Display version and exit.
&ndash;revoke              Revoke existing certificate (default: False)
&ndash;test                Run tests and exit. (default: False)</p>
<p>Webroot manager:
This client is just a sophisticated manager for $webroot/.well-known/acme-
challenge. You can (optionally) specify <code>--default_root</code>, and override
per-vhost with <code>-d example.com:/var/www/other_html</code> syntax.</p>
<p>-d DOMAIN:PATH, &ndash;vhost DOMAIN:PATH
Domain name that will be included in the certificate.
Must be specified at least once. (default: None)
&ndash;default_root PATH   Default webroot path. (default: None)</p>
<p>Certificate data files:
-f PLUGIN             Input/output plugin of choice, can be specified
multiple times and, in fact, it should be specified as
many times as it is necessary to cover all components:
key, certificate, chain. Allowed values:
account_key.json, cert.der, cert.pem, chain.der,
chain.pem, external_pem.sh, fullchain.der,
fullchain.pem, key.der, key.pem. (default: [])
&ndash;cert_key_size BITS  Certificate key size. Fresh key is created for each
renewal. (default: 4096)
&ndash;valid_min SECONDS   Minimum validity of the resulting certificate.
(default: 2592000)
&ndash;reuse_key           Reuse private key if it was previously persisted.
(default: False)</p>
<p>Registration:
This client will automatically register an account with the ACME CA
specified by <code>--server</code>.</p>
<p>&ndash;account_key_public_exponent BITS
Account key public exponent value. (default: 65537)
&ndash;account_key_size BITS
Account key size in bits. (default: 4096)
&ndash;tos_sha256 HASH     SHA-256 hash of the contents of Terms Of Service URI
contents. (default: 33d233c8ab558ba6c8ebc370a509acdded
8b80e5d587aa5d192193f35226540f)
&ndash;email EMAIL         Email address. CA is likely to use it to remind about
expiring certificates, as well as for account
recovery. Therefore, it&rsquo;s highly recommended to set
this value. (default: None)</p>
<p>HTTP:
Configure properties of HTTP requests and responses.</p>
<p>&ndash;user_agent NAME     User-Agent sent in all HTTP requests. Override with
&ndash;user_agent &quot;&rdquo; if you want to protect your privacy.
(default: simp_le/0)
&ndash;server URI          Directory URI for the CA ACME API endpoint. (default:
<a href=https://acme-v01.api.letsencrypt.org/directory>https://acme-v01.api.letsencrypt.org/directory</a>)</p>
<p>See <a href=https://github.com/kuba/simp_le>https://github.com/kuba/simp_le</a> for more info.
</code></pre></div></p><p><strong>Obtaining a certificate</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ./venv/bin/simp_le <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -f account_key.json -f key.pem -f cert.pem -f fullchain.pem <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    --email admin@example.com <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -d www.example.com:/var/www/htdocs/</code></pre></div><p>On success, this command produces 4 files: <code>account_key.json</code>, <code>cert.pem</code>, <code>fullchain.pem</code> and <code>key.pem</code>,
which can be used from your webserver&rsquo;s SSL configuration (see <a href=https://blog.heckel.xyz/2015/12/04/lets-encrypt-5-min-guide-to-set-up-cronjob-based-certificate-renewal>here</a> for an example integration in Apache).</p><p>Renewal works by using the same command.</p><p>Exit codes:</p><ul><li>0 if certificate data was created or updated;</li><li>1 if renewal not necessary;</li><li>2 in case of errors.</li></ul><hr><p><a name=client-le_nosudo></a></p><h2 id=letsencrypt-nosudo>letsencrypt-nosudo</h2><ul><li><a href=https://github.com/diafygi/letsencrypt-nosudo>github.com/diafygi/letsencrypt-nosudo</a><ul><li><img src=https://www.metachris.com/images/posts/letsencrypt/github-diafygi-letsencrypt-nosudo-stars.svg alt="Github Stars"> <img src=https://www.metachris.com/images/posts/letsencrypt/github-diafygi-letsencrypt-nosudo-forks.svg alt="Github Forks"></li><li>45 commits, 5 contributors</li></ul></li><li>Mode: Manual (assisted)</li><li>License: AGPL</li><li>Language: Python</li><li>Lines of code: 400</li><li>Dependencies: None</li></ul><p>This program is a predecessor of acme-tiny and functionally equivalent to gethttpsforfree.com (made by the same author). The script guides you through the whole process and ask you do run all the necessary commands in the terminal.</p><p>You generate a private key and certificate signing request (CSR), then run <code>sign_csr.py</code> to get the signed certificate. The script goes through the ACME protocol with the Let&rsquo;s Encrypt certificate authority and outputs the signed certificate to stdout.</p><p><strong>Installation</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cd /opt
$ git clone https://github.com/diafygi/letsencrypt-nosudo
$ cd letsencrypt-nosudo
$ python sign_csr.py -h</code></pre></div><p><a href=javascript:void(0) onclick="$('#lenosudo-output1').toggle();" class=nobold>â¾ show output</a></p><div class=highlight id=lenosudo-output1 style=display:none><pre><code>$ python sign_csr.py -h
usage: sign_csr.py [-h] -p PUBLIC_KEY [-e EMAIL] [-f] csr_path
<p>Get a SSL certificate signed by a Let&rsquo;s Encrypt (ACME) certificate authority and
output that signed certificate. You do NOT need to run this script on your
server and this script does not ask for your private keys. It will print out
commands that you need to run with your private key or on your server as root,
which gives you a chance to review the commands instead of trusting this script.</p>
<p>NOTE: YOUR ACCOUNT KEY NEEDS TO BE DIFFERENT FROM YOUR DOMAIN KEY.</p>
<p>Prerequisites:</p>
<ul>
<li>openssl</li>
<li>python</li>
</ul>
<h2 id=example-generate-an-account-keypair-a-domain-key-and-csr-and-have-the-domain-csr-signed>Example: Generate an account keypair, a domain key and csr, and have the domain csr signed.</h2>
<h2 id=-python-sign_csrpy---public-key-userpub-domaincsr--signedcrt>$ openssl genrsa 4096 &gt; user.key
$ openssl rsa -in user.key -pubout &gt; user.pub
$ openssl genrsa 4096 &gt; domain.key
$ openssl req -new -sha256 -key domain.key -subj &ldquo;/CN=example.com&rdquo; &gt; domain.csr
$ python sign_csr.py &ndash;public-key user.pub domain.csr &gt; signed.crt</h2>
<p>positional arguments:
csr_path              path to your certificate signing request</p>
<p>optional arguments:
-h, &ndash;help            show this help message and exit
-p PUBLIC_KEY, &ndash;public-key PUBLIC_KEY
path to your account public key
-e EMAIL, &ndash;email EMAIL
contact email, default is webmaster@&gt;shortest_domain&gt;
-f, &ndash;file-based      if set, a file-based response is used
</code></pre></div></p><p><strong>Obtaining a certificate</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ openssl genrsa <span style=color:#ae81ff>4096</span> &gt; user.key
$ openssl rsa -in user.key -pubout &gt; user.pub
$ openssl genrsa <span style=color:#ae81ff>4096</span> &gt; domain.key
$ openssl req -new -sha256 -key domain.key -subj <span style=color:#e6db74>&#34;/CN=example.com&#34;</span> &gt; domain.csr
$ python sign_csr.py --public-key user.pub domain.csr &gt; signed.crt</code></pre></div><p><a href=javascript:void(0) onclick="$('#lenosudo-cmd1').toggle();" class=nobold>â¾ show output</a></p><div class=highlight id=lenosudo-cmd1 style=display:none><pre><code>user@hostname:~$ openssl genrsa 4096 > user.key
Generating RSA private key, 4096 bit long modulus
.............................................................................................................................................................................++
....................................................++
e is 65537 (0x10001)
user@hostname:~$ openssl rsa -in user.key -pubout > user.pub
writing RSA key
user@hostname:~$ openssl genrsa 4096 > domain.key
Generating RSA private key, 4096 bit long modulus
.................................................................................................................................................................................++
...........................................++
e is 65537 (0x10001)
user@hostname:~$ openssl req -new -sha256 -key domain.key -subj "/CN=www.example.com" > domain.csr
user@hostname:~$ python sign_csr.py --public-key user.pub domain.csr > signed.crt
Reading pubkey file...
Found public key!
Reading csr file...
Found domains www.example.com
STEP 1: What is your contact email? (webmaster@www.example.com)
Building request payloads...
STEP 2: You need to sign some files (replace 'user.key' with your user private key).
<p>openssl dgst -sha256 -sign user.key -out register_KN2ihH.sig register_ABUO4T.json
openssl dgst -sha256 -sign user.key -out domain_BbpWG4.sig domain_rSKa5G.json
openssl dgst -sha256 -sign user.key -out challenge_fo6_ib.sig challenge_e3gHzd.json
openssl dgst -sha256 -sign user.key -out cert_36OUdW.sig cert_3IZULZ.json</p>
<p>Press Enter when you&rsquo;ve run the above commands in a new terminal window&hellip;
Registering <a href=mailto:daniel@roesler.cc>daniel@roesler.cc</a>&hellip;
Already registered. Skipping&hellip;
Requesting challenges for <a href=http://www.example.com>www.example.com</a>&hellip;
STEP 3: You need to sign some more files (replace &lsquo;user.key&rsquo; with your user private key).</p>
<p>openssl dgst -sha256 -sign user.key -out response_ATE3Yu.sig response_P87LMt.json</p>
<p>Press Enter when you&rsquo;ve run the above commands in a new terminal window&hellip;
STEP 4: You need to run this command on <a href=http://www.example.com>www.example.com</a> (don&rsquo;t stop the python command until the next step).</p>
<p>sudo python -c &ldquo;import BaseHTTPServer;<br>
h = BaseHTTPServer.BaseHTTPRequestHandler;<br>
h.do_GET = lambda r: r.send_response(200) or r.end_headers() or r.wfile.write(&lsquo;dKsTWOsqGuOIBep_DYGpXOFqc_aLMu8HiXKMZ8xvsww.1Gt_C6ImtCNs62Zb5YArtvUOnWTp6MkprcNt88ZgUp8&rsquo;);<br>
s = BaseHTTPServer.HTTPServer((&lsquo;0.0.0.0&rsquo;, 80), h);<br>
s.serve_forever()&rdquo;</p>
<p>Press Enter when you&rsquo;ve got the python command running on your server&hellip;
Requesting verification for <a href=http://www.example.com>www.example.com</a>&hellip;
Waiting for <a href=http://www.example.com>www.example.com</a> challenge to pass&hellip;
Passed <a href=http://www.example.com>www.example.com</a> challenge!
Requesting signature&hellip;
Certificate signed!
You can stop running the python command on your server (Ctrl+C works).
user@hostname:~$ cat signed.crt
&mdash;&ndash;BEGIN CERTIFICATE&mdash;&ndash;
MIIGJTCCBQ2gAwIBAgISATBRUGjFwTtjF4adpF7zd/5qMA0GCSqGSIb3DQEBCwUA
MEoxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MSMwIQYDVQQD
ExpMZXQncyBFbmNyeXB0IEF1dGhvcml0eSBYMTAeFw0xNTEwMjQwOTU4MDBaFw0x
NjAxMjIwOTU4MDBaMCoxKDAmBgNVBAMTH2xldHNlbmNyeXB0LmRheWxpZ2h0cGly
YXRlcy5vcmcwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQC2Ac7twhMz
AxreQxmlY0gBq20zrriMOCLTwwdJ3sfv9bNxo+iG7eidu9imLI0FNjZkxtpyJeG/
+4OnvTgChHiTEKtD0Q3SoeSOu3Bl73d4bVBfTsvj0yEoMrF4Y89VvqbH7HP+2evv
Uraj2Qv0EUor3KAsOJW4hiSQedmz69+3IVZHWdpyYTtC1HjO9C5DqPgD7hlrtRrP
k0SL4j048NIiDvMm36pzn/UM+HxuavVxIyQ7BigDk7Hev6jXH2BqQk0ADtR0CycI
nJeS5gk+i6ImDeOsrhPrXvub02aRbol/paoSknskAOJKe4628dd873QfMXnQz1JT
aggaFQA1S8M2DY9l574/gOH39BudXdvOGzln7MeDJoi7Tybih2FJJbj8tQPV2zwh
ArbKLHPJibM1HP8jc7QQcrWnNf3H2N5FhP8uvEVchdYk3zV2tJPqlQnsHctOjNrV
18WRsl+JpUNLclRWQ3JLYZL+waIaJvsAsjp58J3XK1PI1s7QPuJpI3u7hlu4zz2e
TMF8OqAEy+rkHML5j+ncB+ctxhgNgirwpCUQ3NL9rslte0OmO+kzjrVfJ7o5D6zt
Hn5xg2WTgNoCdXbIruEzC43SqkPIH8VeFkzjPCqGajQsXXmdbDyoNkJ+SK0Fz0hI
3alW4kaOSe0aeto22sKtOjsIy7GF6qDw4QIDAQABo4ICIzCCAh8wDgYDVR0PAQH/
BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAMBgNVHRMBAf8E
AjAAMB0GA1UdDgQWBBSpGhk6yOALnLPWzrncMA/wnd6nNzAfBgNVHSMEGDAWgBSo
SmpjBH3duubRObemRWXv86jsoTBwBggrBgEFBQcBAQRkMGIwLwYIKwYBBQUHMAGG
I2h0dHA6Ly9vY3NwLmludC14MS5sZXRzZW5jcnlwdC5vcmcvMC8GCCsGAQUFBzAC
hiNodHRwOi8vY2VydC5pbnQteDEubGV0c2VuY3J5cHQub3JnLzAqBgNVHREEIzAh
gh9sZXRzZW5jcnlwdC5kYXlsaWdodHBpcmF0ZXMub3JnMIIBAAYDVR0gBIH4MIH1
MAoGBmeBDAECATAAMIHmBgsrBgEEAYLfEwEBATCB1jAmBggrBgEFBQcCARYaaHR0
cDovL2Nwcy5sZXRzZW5jcnlwdC5vcmcwgasGCCsGAQUFBwICMIGeDIGbVGhpcyBD
ZXJ0aWZpY2F0ZSBtYXkgb25seSBiZSByZWxpZWQgdXBvbiBieSBSZWx5aW5nIFBh
cnRpZXMgYW5kIG9ubHkgaW4gYWNjb3JkYW5jZSB3aXRoIHRoZSBDZXJ0aWZpY2F0
ZSBQb2xpY3kgZm91bmQgYXQgaHR0cHM6Ly9sZXRzZW5jcnlwdC5vcmcvcmVwb3Np
dG9yeS8wDQYJKoZIhvcNAQELBQADggEBADQ2nWJa0jSOgStC7luKLmNOiNZTbiYP
ITFetj6WpRIsAHwz3vTwDIWFtczrhksWRTU9mCIwaxtqflZrirc3mE6jKugeSUHr
1yqTXZ097rDNAnMvUtvoET/UBkAU+gUDn8zRFtKOePuWX7P8qHq8QqjNqMC0vb5s
ncyFqSSZl1j9e5l+Kpj/GeTCwkwck5U75Ry44kPbnu5JLd70P724gBnyEi6IxXHB
txXZEUmI0R1Ee3Kw/5N6JfeWNE1KEmM47VVFomRitruxBj9nlXtIILvkPCTWkDua
pr1OmFi/rUcaHw+Txbs8aBmZEBkxy9HPSfgqqlYqEd0ipGqFtqaFJEI=
&mdash;&ndash;END CERTIFICATE&mdash;&ndash;
user@hostname:~$
</code></pre></div></p><hr><p><a name=client-acmetool></a></p><h2 id=acmetool>acmetool</h2><ul><li><a href=https://github.com/hlandau/acme>github.com/hlandau/acme</a><ul><li><img src=https://www.metachris.com/images/posts/letsencrypt/github-hlandau-acme-stars.svg alt="Github Stars"> <img src=https://www.metachris.com/images/posts/letsencrypt/github-hlandau-acme-forks.svg alt="Github Forks"></li><li>103 commits, 1 contributors</li></ul></li><li>Mode: Automatic / Interactive</li><li>License: MIT</li><li>Language: Go</li><li>Lines of code: ~6,000</li><li>Dependencies: None (Binary Release)</li></ul><p><code>acmetool</code> is an ACME client written in Go, supporting automatic domain verification with webroot and standalone methods as well as an interactive wizard. acmetool stores credentials and certificates at <code>/var/lib/acme/live/HOSTNAME/{cert,chain,fullchain,privkey}</code> by default and includes support to import certificates from the official client.</p><p>acmetool furthermore provides a <code>reconcile</code> option which makes sure all desired hostnames
have valid certificates which don&rsquo;t expire soon.</p><p><strong>Installation</strong></p><p>You can either get a <a href=https://github.com/hlandau/acme/releases>binary release</a>, or build from source as described in the Readme:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ wget https://github.com/hlandau/acme/releases/download/v0.0.22/acmetool-v0.0.22-linux_amd64.tar.gz
$ tar -xvf acmetool-v0.0.22-linux_amd64.tar.gz
$ cd acmetool-v0.0.22-linux_amd64
$ bin/acmetool --help</code></pre></div><p><a href=javascript:void(0) onclick="$('#acmetool-o1').toggle();" class=nobold>â¾ show output</a></p><div class=highlight id=acmetool-o1 style=display:none><pre><code>$ bin/acmetool help
usage: acmetool [&lt;flags>] &lt;command> [&lt;args> ...]
<p>Flags:
&ndash;help                         Show context-sensitive help (also try &ndash;help-long and &ndash;help-man).
&ndash;state=/var/lib/acme          Path to the state directory (env: ACME_STATE_DIR)
&ndash;hooks=/usr/lib/acme/hooks    Path to the notification hooks directory (env: ACME_HOOKS_DIR)
&ndash;batch                        Do not attempt interaction; useful for cron jobs
&ndash;stdio                        Don&rsquo;t attempt to use console dialogs; fall back to stdio prompts
&ndash;response-file=RESPONSE-FILE  Read dialog responses from the given file
&ndash;version                      Print version information
&ndash;xlog.facility=XLOG.FACILITY  syslog facility to use
&ndash;xlog.syslog                  log to syslog?
&ndash;xlog.syslogseverity=XLOG.SYSLOGSEVERITY
syslog severity limit
&ndash;xlog.journal                 log to systemd journal?
&ndash;xlog.journalseverity=XLOG.JOURNALSEVERITY
systemd journal severity limit
&ndash;xlog.severity=XLOG.SEVERITY  log severity (any syslog severity name or number)
&ndash;xlog.file=XLOG.FILE          log to filename
&ndash;xlog.fileseverity=XLOG.FILESEVERITY
file logging severity limit
&ndash;xlog.stderr                  log to stderr?
&ndash;xlog.stderrseverity=XLOG.STDERRSEVERITY
stderr logging severity limit
&ndash;service.cpuprofile=SERVICE.CPUPROFILE
Write CPU profile to file
&ndash;service.debugserveraddr=SERVICE.DEBUGSERVERADDR
Address for debug server to listen on (do not specify a public address) (default: disabled)
&ndash;service.uid=SERVICE.UID      UID to run as (default: don&rsquo;t drop privileges)
&ndash;service.gid=SERVICE.GID      GID to run as (default: don&rsquo;t drop privileges)
&ndash;service.daemon               Run as daemon? (doesn&rsquo;t fork)
&ndash;service.chroot=SERVICE.CHROOT
Chroot to a directory (must set UID, GID) (&quot;/&rdquo; disables)
&ndash;service.pidfile=SERVICE.PIDFILE
Write PID to file with given filename and hold a write lock
&ndash;service.fork                 Fork? (implies -daemon)</p>
<p>Commands:
help [&lt;command&gt;&hellip;]
Show help.</p>
<p>reconcile*
Reconcile ACME state</p>
<p>want &lt;hostname&gt;&hellip;
Add a target with one or more hostnames</p>
<p>quickstart [&lt;flags&gt;]
Interactively ask some getting started questions (recommended)</p>
<p>redirector [&lt;flags&gt;]
HTTP to HTTPS redirector with challenge response support</p>
<p>test-notify [&lt;hostname&gt;&hellip;]
Test-execute notification hooks as though given hostnames were updated</p>
<p>import-jwk-account &lt;provider-url&gt; &lt;private-key-file&gt;
Import a JWK account key</p>
<p>import-key &lt;private-key-file&gt;
Import a certificate private key</p>
<p>import-le [&lt;le-state-path&gt;]
Import a Let&rsquo;s Encrypt client state directory
</code></pre></div></p><p><strong>Obtaining a certificate</strong></p><p>You need to set the webroot to <code>/var/run/acme/acme-challenge</code> as described
in <a href=https://github.com/hlandau/acme/blob/master/_doc/WSCONFIG.md>the docs</a>, or use the proxy method. The command <code>acmetool want</code> tries all available methods.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo acmetool want www.example.com</code></pre></div><hr><p><a name=client-lego></a></p><h2 id=lego>lego</h2><ul><li><a href=https://github.com/xenolf/lego>github.com/xenolf/lego</a><ul><li><img src=https://www.metachris.com/images/posts/letsencrypt/github-xenolf-lego-stars.svg alt="Github Stars"> <img src=https://www.metachris.com/images/posts/letsencrypt/github-xenolf-lego-forks.svg alt="Github Forks"></li><li>162 commits, 4 contributors</li></ul></li><li>Mode: Automatic</li><li>License: MIT</li><li>Language: Go</li><li>Lines of code: ~2,000</li><li>Dependencies: None (Binary Release)</li><li><a href="https://news.ycombinator.com/item?id=10682971">Show HN</a></li></ul><p>Lego is an ACME library and standalone application written in Go. It can be downloaded as
a <a href=https://github.com/xenolf/lego/releases>binary release</a> or build by yourself.</p><p>Running the standalone version requires the permission to bind to port 80 and 443,
which conflicts with a webserver which is already running.</p><p><strong>Installation</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ wget https://github.com/xenolf/lego/releases/download/v0.1.0/lego_linux_amd64.tar.gz
$ tar -xvf lego_linux_amd64.tar.gz
lego
LICENSES.txt
README.txt
$ ./lego help</code></pre></div><p><a href=javascript:void(0) onclick="$('#lego-o1').toggle();" class=nobold>â¾ show output</a></p><div class=highlight id=lego-o1 style=display:none><pre><code># ./lego help
NAME:
   lego - Let's encrypt client to go!
<p>USAGE:
./lego [global options] command [command options] [arguments&hellip;]</p>
<p>VERSION:
0.1.0</p>
<p>COMMANDS:
run		Register an account, then create and install a certificate
revoke	Revoke a certificate
renew	Renew a certificate
help, h	Shows a list of commands or help for one command</p>
<p>GLOBAL OPTIONS:
&ndash;domains, -d [&ndash;domains option &ndash;domains option]			Add domains to the process
&ndash;server, -s &ldquo;<a href=https://acme-v01.api.letsencrypt.org/directory%22>https://acme-v01.api.letsencrypt.org/directory&quot;</a>	CA hostname (and optionally :port). The server certificate must be trusted in order to avoid further modifications to the client.
&ndash;email, -m 								Email used for registration and recovery contact.
&ndash;rsa-key-size, -B &ldquo;2048&rdquo;						Size of the RSA key.
&ndash;path &ldquo;/opt/le5-lego/dl/.lego&rdquo;					Directory to use for storing the data
&ndash;port 								Challenges will use this port to listen on. Please make sure to forward port 443 to this port on your machine. Otherwise use setcap on the binary
&ndash;help, -h								show help
&ndash;version, -v							print the version
</code></pre></div></p><p><strong>Obtaining a certificate</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo ./lego --email<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;admin@example.com&#34;</span> --domains<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;www.example.com&#34;</span> run</code></pre></div><p><a href=javascript:void(0) onclick="$('#lego-o2').toggle();" class=nobold>â¾ show output</a></p><div class=highlight id=lego-o2 style=display:none><pre><code>$ sudo ./lego --email="admin@example.com" --domains="www.example.com" run
2015/12/13 17:32:25 No key found for account admin@example.com. Generating a 2048 bit key.
2015/12/13 17:32:26 Saved key to /opt/le5-lego/dl/.lego/accounts/acme-v01.api.letsencrypt.org/admin@example.com/keys/admin@example.com.key
2015/12/13 17:32:26 [INFO] acme: Registering account for admin@example.com
2015/12/13 17:32:27 !!!! HEADS UP !!!!
2015/12/13 17:32:27
		Your account credentials have been saved in your Let's Encrypt
		configuration directory at "/opt/le5-lego/dl/.lego/accounts/acme-v01.api.letsencrypt.org/admin@example.com".
		You should make a secure backup	of this folder now. This
		configuration directory will also contain certificates and
		private keys obtained from Let's Encrypt so making regular
		backups of this folder is ideal.
2015/12/13 17:32:27 Please review the TOS at https://letsencrypt.org/documents/LE-SA-v1.0.1-July-27-2015.pdf
2015/12/13 17:32:27 Do you accept the TOS? Y/n
Y
2015/12/13 17:32:30 [INFO] acme: Obtaining bundled SAN certificate for www.example.com
2015/12/13 17:33:02 [INFO] acme: Trying to solve TLS-SNI-01
2015/12/13 17:33:04 The server validated our request
2015/12/13 17:33:04 [INFO] acme: Validations succeeded; requesting certificates
2015/12/13 17:33:05 [INFO] acme: Requesting issuer cert from https://acme-v01.api.letsencrypt.org/acme/issuer-cert
2015/12/13 17:33:05 [www.example.com] Server responded with a certificate.
</code></pre></div><hr><p><a name=client-letsencrypt.sh></a></p><h2 id=letsencryptsh>letsencrypt.sh</h2><ul><li><a href=https://github.com/lukas2511/letsencrypt.sh>github.com/lukas2511/letsencrypt.sh</a><ul><li><img src=https://www.metachris.com/images/posts/letsencrypt/github-lukas2511-letsencrypt.sh-stars.svg alt="Github Stars"> <img src=https://www.metachris.com/images/posts/letsencrypt/github-lukas2511-letsencrypt.sh-forks.svg alt="Github Forks"></li><li>111 commits, 6 contributors</li></ul></li><li>Mode: Automatic</li><li>License: Unspecified</li><li>Language: Shell Script (Bash)</li><li>Lines of code: ~600 (Bash)</li><li>Dependencies: None / OpenSSL, curl, sed</li><li><a href="https://news.ycombinator.com/item?id=10681851">Show HN</a></li></ul><p><strong>Installation</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git clone https://github.com/lukas2511/letsencrypt.sh
$ ./letsencrypt.sh --help</code></pre></div><p><a href=javascript:void(0) onclick="$('#lesh-o1').toggle();" class=nobold>â¾ show output</a></p><div class=highlight id=lesh-o1 style=display:none><pre><code>$ ./letsencrypt.sh --help
Usage: ./letsencrypt.sh [-h] [command [argument]] [parameter [argument]] [parameter [argument]] ...
<p>Default command: cron</p>
<p>Commands:
&ndash;cron (-c)                      Sign/renew non-existant/changed(TODO)/expiring certificates.
&ndash;sign (-s) domain.tld           Force-sign specific certificate from domains.txt, even if not yet expiring or changed.
&ndash;revoke (-r) path/to/cert.pem   Revoke specified certificate
&ndash;help (-h)                      Show help text</p>
<p>Parameters:
&ndash;config (-f) path/to/config.sh  Use specified config file
&ndash;privkey (-p) path/to/key.pem   Use specified private key instead of account key (useful for revocation)
</code></pre></div></p><p><strong>Obtaining a certificate</strong></p><p>Create a file called <code>domains.txt</code> which contains the domains and subdomains you want to
generate certificates for:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>example.com www.example.com
example.net www.example.net wiki.example.net</code></pre></div><p>This requests two certificates, for example.com and example.net. The other domains in the corresponding line are their alternative names.</p><p><code>letsencrypt.sh</code> writes the challenge files by default into the directory <code>"${SCRIPTDIR}/.acme-challenges"</code>. To adjust this to your webroot, you need to create a config file (<code>config.sh</code>) with another <code>$WELLKNOWN</code> path (see <a href=https://github.com/lukas2511/letsencrypt.sh/blob/master/config.sh.example>config.sh.example</a>):</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>WELLKNOWN<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>SCRIPTDIR<span style=color:#e6db74>}</span><span style=color:#e6db74>/.well-known/acme-challenge&#34;</span></code></pre></div><p>Then simply run <code>letsencrypt.sh</code> (<a href=javascript:void(0) onclick="$('#lesh-o2').toggle();" class=nobold>â¾ show output</a>).</p><div class=highlight id=lesh-o2 style=display:none><pre><code>$ ./letsencrypt.sh
Using config file /opt//letsencrypt.sh/config.sh
Processing www.example.com
 + Signing domains...
 + Generating private key...
 + Generating signing request...
 + Requesting challenge for www.example.com...
 + Responding to challenge for www.example.com...
 + Challenge is valid!
 + Requesting certificate...
 + Checking certificate...
 + Creating fullchain.pem...
 + Done!
<p>$ ./letsencrypt.sh
Using config file /opt//letsencrypt.sh/config.sh</p>
<ul>
<li>Found existing cert&hellip;</li>
<li>Valid till Mar 12 22:42:00 2016 GMT (Longer than 14 days). Skipping!
</code></pre></div></li></ul><hr><p><a name=client-acme-client></a></p><h2 id=acme-client>acme-client</h2><ul><li><a href=https://github.com/kelunik/acme-client>github.com/kelunik/acme-client</a><ul><li><img src=https://www.metachris.com/images/posts/letsencrypt/github-kelunik-acme-client-stars.svg alt="Github Stars"> <img src=https://www.metachris.com/images/posts/letsencrypt/github-kelunik-acme-client-forks.svg alt="Github Forks"></li><li>3 commits, 1 contributors</li></ul></li><li>Mode: Automatic</li><li>License: MIT</li><li>Language: PHP (7)</li><li>Lines of code: ~400</li><li>Dependencies: Few</li></ul><p><code>acme-client</code> is an ACME client written in PHP, built on top of the <a href=https://github.com/kelunik/acme>acme PHP library</a> by the same author.</p><p>It requires <strong>PHP 7</strong> and <a href=https://getcomposer.org>composer</a> to install it&rsquo;s dependencies.</p><p><strong>Installation</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git clone https://github.com/kelunik/acme-client
$ cd acme-client
$ composer install</code></pre></div><p><strong>Obtaining a certificate</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Register the Let&#39;s Encrypt account</span>
$ sudo bin/acme register <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    --server acme-v01.api.letsencrypt.org/directory <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    --email me@example.com

<span style=color:#75715e># Issue the certificate</span>
$ sudo bin/acme issue <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    --server acme-v01.api.letsencrypt.org/directory <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    --domains example.com,www.example.com <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    --path /var/www/example.com/htdocs</code></pre></div><hr><p><a name=client-lescript></a></p><h2 id=lescript>lescript</h2><ul><li><a href=https://github.com/analogic/lescript>github.com/analogic/lescript</a><ul><li><img src=https://www.metachris.com/images/posts/letsencrypt/github-analogic-lescript-stars.svg alt="Github Stars"> <img src=https://www.metachris.com/images/posts/letsencrypt/github-analogic-lescript-forks.svg alt="Github Forks"></li><li>3 commits, 1 contributors</li></ul></li><li>Mode: Automatic</li><li>License: BSD</li><li>Language: PHP</li><li>Lines of code: ~450</li><li>Dependencies: PHP 5.4.8+ with OpenSSL and curl extension</li><li><a href="https://news.ycombinator.com/item?id=10709678">Show HN</a></li></ul><p><code>lescript</code> is a very simplistic PHP ACME client library, with an example CLI wrapper.</p><p><strong>Installation</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git clone https://github.com/analogic/lescript.git
$ cd lescript</code></pre></div><p><strong>Obtaining a certificate</strong></p><p>Use the library as shown in <a href=https://github.com/analogic/lescript/blob/master/_example.php>_example.php</a>.</p><hr><h1 id=summary>Summary</h1><table><thead><tr><th>Client</th><th>User Mode</th><th title=Dependencies>Deps.</th><th>Language</th><th title="Lines of Code">LOC</th><th>License</th><th>Capabilities</th><th>Domain Authentication</th></tr></thead><tbody><tr><td><a href=https://github.com/letsencrypt/letsencrypt>Official Let's Encrypt Client</a> (<a href=http://letsencrypt.readthedocs.org/en/latest>Docs</a>)</td><td>Automatic / Interactive / Manual</td><td>Many</td><td>Python</td><td>~8.600</td><td>Apache 2.0</td><td>Issue, Renew, Revoke, Server Config</td><td>Webroot, Standalone, Manual</td></tr><tr><td><a href=https://github.com/diafygi/acme-tiny>acme-tiny</a></td><td>Automatic / Semi-Automatic</td><td>None</td><td>Python</td><td>~200</td><td>MIT</td><td>Issue, Renew</td><td>Webroot</td></tr><tr><td><a href=https://gethttpsforfree.com/>gethttpsforfree<br>.com</a> (<a href=https://github.com/diafygi/gethttpsforfree>Source</a>)</td><td>Semi-Manual</td><td>None</td><td>HTML/JS</td><td>~1200</td><td>MIT</td><td>Issue, Renew</td><td>Webroot</td></tr><tr><td><a href=https://github.com/kuba/simp_le>simp_le</a></td><td>Automatic / Semi-Automatic</td><td>Some</td><td>Python</td><td>~800</td><td>GPLv3</td><td>Issue, Renew, Revoke</td><td>Webroot</td></tr><tr><td><a href=https://github.com/diafygi/letsencrypt-nosudo>letsencrypt-nosudo</a></td><td>Manual (assisted)</td><td>None</td><td>Python</td><td>~400</td><td>AGPL</td><td>Issue, Renew, Revoke</td><td>Standalone</td></tr><tr><td><a href=https://github.com/hlandau/acme>acmetool</a></td><td>Automatic / Interactive</td><td>None</td><td>Go</td><td>~6,000</td><td>MIT</td><td>Issue, Renew</td><td>Webroot, Standalone</td></tr><tr><td><a href=https://github.com/xenolf/lego>lego</a></td><td>Automatic</td><td>None</td><td>Go</td><td>~2,000</td><td>MIT</td><td>Issue, Renew, Revoke</td><td>Standalone</td></tr><tr><td><a href=https://github.com/lukas2511/letsencrypt.sh>letsencrypt.sh</a></td><td>Automatic</td><td>None</td><td>Bash</td><td>~600</td><td>?</td><td>Issue, Renew, Revoke</td><td>Webroot</td></tr><tr><td><a href=https://github.com/kelunik/acme-client>acme-client</a></td><td>Semi-Automatic</td><td>Some (incl. PHP 7)</td><td>PHP</td><td>~400</td><td>MIT</td><td>Issue, Renew, Revoke</td><td>Webroot</td></tr><tr><td><a href=https://github.com/analogic/lescript>lescript</a></td><td>Semi-Automatic</td><td>None</td><td>PHP</td><td>~450</td><td>BSD</td><td>Issue, Renew</td><td>Webroot</td></tr></tbody></table><hr class=spaced><p>If you have suggestions or feedback, please let me know via <a href=https://twitter.com/@metachris target=_blank>@metachris</a>.</p></div><hr><form class=tinyletter-subscribe action=https://tinyletter.com/metachris method=post target=popupwindow onsubmit="window.open('https://tinyletter.com/metachris','popupwindow','scrollbars=yes,width=800,height=600');return true"><div><label for=tlemail><small>â¡ï¸</small> &nbsp;Subscribe to new posts:</label>&nbsp;
<input type=email style=width:140px name=email id=tlemail placeholder=email>&nbsp;
<input type=hidden value=1 name=embed><input type=submit value=Subscribe></div><div style=padding-top:8px><small>(two mails per month max)</small></div></form><hr><footer><script src=https://utteranc.es/client.js repo=metachris/metachris.com-comments issue-term=og:title theme=preferred-color-scheme crossorigin=anonymous async></script></footer></article></section></div><footer class=footer><section class=container></section></footer></main><script src=https://www.metachris.com/js/dark-mode.min.0213e1773e6d1c5a644f847c67a6f8abac49a3776e2976f6008038af8c5b76a1.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-168016633-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-168016633-1');</script><link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel=stylesheet><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.11.2/css/all.css integrity=sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN crossorigin=anonymous></body></html>