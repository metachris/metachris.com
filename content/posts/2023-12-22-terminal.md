+++
draft = true
date = "2023-12-22"
title = "Terminal"
url = "/terminal.html"
hideTags = true
# images = ["/images/posts/mpc/og.jpg"]  # 1200 x 630 px
# tags = ["Blockchain", "Ethereum", "MPC"]
# keywords = ["Blockchain", "Ethereum", "MPC", "Cryptography", "Threshold signatures"]
# description = "The paper by Robert Annessi and Ethan Fast introduces an effective algorithm for secure, collaborative signature generation using threshold signatures, and an API-key based client/server protocol that allows user-specific limits and restrictions as well as key revocations and rotations."
+++

{{< load-photoswipe >}}

A post on how I setup and use my terminal, based on many years of tweaking and fiddling.

See also [this post about my Mac dev setup & tools](/mac-dev-setup.html).

# Contents

{{< TableOfContents >}}

---

## iTerm Setup

On MacOS, I strongly recommend to use [iTerm2](https://iterm2.com/)!

**Customize it with a custom default profile:**

- Fonts & color scheme
- Larger initial window size (i.e. 240x60)
- Open new tabs in previous location
- Navigate words using <kbd>alt</kbd> + <kbd>⬅/➡</kbd> ([read more here](https://apple.stackexchange.com/a/218639))

You can download my personal [profile here](/files/iterm-profile.json) and [keymap here](/files/iterm.itermkeymap).

**Navigation tips:**
- Color coding tabs (and custom titles) can be helpful to quickly identify them
- Open a new tab with <kbd>⌘</kbd> + <kbd>t</kbd>
- Navigate tabs with <kbd>⌘</kbd> + <kbd>⬅/➡</kbd> as well as with <kbd>⌘</kbd> + <kbd>1/2/3/4/...</kbd>
- Split a window:
    - Split vertical: <kbd>⌘</kbd> + <kbd>d</kbd>
    - Split horizontal: <kbd>⌘</kbd> + <kbd>shift</kbd> + <kbd>d</kbd>
    - Navigate with <kbd>⌘</kbd> + <kbd>alt</kbd> + <kbd>⬅/➡/⬆/⬇</kbd>
    - Close a full tab with <kbd>⌘</kbd> + <kbd>w</kbd>
    - Close only the current pane with <kbd>ctrl</kbd> + <kbd>d</kbd>
- Open iTerm / switch to it using <kbd>alt</kbd> + <kbd>t</kbd> ([instructions here](/mac-dev-setup.html#keyboard-shortcuts))

![Terminal example](/images/posts/tools/terminal1.png)

---

## Bash

I recommend to use [Bash](https://en.wikipedia.org/wiki/Bash_(Unix_shell)) as default shell, to stay close to bash and because it’s used everywhere (servers, linux, containers, etc.). On MacOS, you can set your user's default shell to bash with `chsh -s /bin/bash` and then a logout and login.

##### Dotfiles

You probably heard about "dotfiles", which usually refers to the configuration files of your shell and other tools (which are located in your home directory and start with a `.`).

There are a bunch of posts about dotfile setups with various complexity [out](https://github.com/mathiasbynens/dotfiles) [there](https://github.com/pawelgrzybek/dotfiles).


I prefer a rather simple setup:

- At the core is a relatively simple [`~/.bash_profile` file](https://gist.github.com/metachris/141e2bb21ac66868bdacdf43058d9b1b#file-bash_profile), which loads a few other files and sets up a number of basic utilities.
- Additional loaded files include:
    - `~/.path` can be used to extend `$PATH`.
    - `~/.bash_prompt` sets up the prompt
    - `~/.exports` is various exports
    - `~/.aliases` and ~/.functions contain a bunch of useful helpers
    - `~/.extra` can be used for other settings you don’t want to commit.


### Some of my favorite bash tips & tricks:

- Set a huge shell history, to never forget commands used in the past ([more details here](https://stackoverflow.com/a/19533853))!
    ```bash
    # unlimited bash history: https://stackoverflow.com/a/19533853
    export HISTSIZE=
    export HISTFILESIZE=
    ```
- Fuzzy search bash history using [fzf](https://github.com/junegunn/fzf) (hotkey: <kbd>ctrl</kbd> + <kbd>r</kbd>): <br> <img src="/images/posts/tools/fuzzy2.png" style="max-width:580px;"/>
- You can also use [`fzf` to navigate git](https://github.com/junegunn/fzf-git.sh) :bulb:


## Homebrew & Basic Tools

- [Homebrew](https://brew.sh) to easily install a variety of packages
    - I prefer to use the original GNU version of common tools like tar, sed, awk, grep, find, etc. (to be compatible with what's available on servers and expected in bash scripts). Read more [here](https://apple.stackexchange.com/a/69332):
        ```bash
        # Install gnu utils: https://apple.stackexchange.com/a/69332
        brew install coreutils findutils gnu-tar gnu-sed gawk gnutls gnu-indent gnu-getopt grep
        ```
    - Install often used packages:
        ```bash
        brew install git openssl vim gh imagemagick libyaml coreutils gpg-suite-no-mail tee
        ```
    - Find more good Homebrew recommendations here: https://github.com/mathiasbynens/dotfiles/blob/main/brew.sh
    - [zoxide](https://github.com/ajeetdsouza/zoxide) (`z` and `zi` commands to navigate paths quickly!)

## Newer tools

- [ripgrep](https://github.com/BurntSushi/ripgrep) - "recursively searches directories for a regex pattern while respecting your gitignore"
- [fd](https://github.com/sharkdp/fd) - "a simple, fast and user-friendly alternative to 'find'"
- https://jvns.ca/blog/2022/04/12/a-list-of-new-ish--command-line-tools/
- https://saurabhs.org/advanced-macos-commands

## Bash functions + aliases

## git
- aliases
- git rb
- fzf
- check ~/.gitconfig
- https://github.com/so-fancy/diff-so-fancy
- No pip/yarn!!!